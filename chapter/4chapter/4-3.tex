\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}

\newmdtheoremenv[
  backgroundcolor=gray!10,
  linewidth=0pt,
  innerleftmargin=10pt,
  innerrightmargin=10pt,
  innertopmargin=10pt,
  innerbottommargin=10pt
]{zgraytheorem}{}
% 定义说明环境样式
\newtheoremstyle{mystyle}% 说明环境样式的名称
  {1em}% 上方间距
  {1em}% 下方间距
  {\normalfont}% 说明内容的字体样式
  {}% 缩进量
  {\bfseries}% 说明标记的字体样式
  {.}% 说明标记和说明内容之间的标点
  {1em}% 说明标记后的水平空间
  {}% 说明标记后的垂直空间
% 使用新定义的样式创建说明环境
\theoremstyle{mystyle}
\newtheorem*{zremark}{说明}


\begin{document}
\title{4.3 习题}
\maketitle

\begin{zgraytheorem}
  \begin{zremark}
    本节的证明过程中，用到了一些命题，在书中没有提到，这里提前列出，并证明它。

    \textbf{A. 正有理数 $\geq$ 零 $\geq$ 负有理数}

    证明：

    不妨设$x,y$是任意有理数，并且$x$是正有理数，$y$是负有理数，
    所以存在$a,b,c,d$正整数，使得$x=a/b,y=(-c)/d$，现在只需证明$x \geq 0 \geq y$。
    \begin{align*}
      x - 0 & = a/b - 0   \\
            & = a/b - 0/1 \\
            & = a1-b*0/b  \\
            & = a / b     \\
            & = x         \\
    \end{align*}
    由于$x$是正的，所以$x \geq 0$。

    \begin{align*}
      0 - y & = 0 - (-c)/d \\
            & = 0 - (-c)/d \\
            & = c/d        \\
    \end{align*}
    有$c/d$是正有理数，所以$0 \geq y$。

    综上，命题成立。

    \textbf{A推论1. 正有理数 $>$ 零 $>$ 负有理数}

    证明：由于正有理数不等于零，且由命题A，可知正整数大于零；由于负有理数不等于零，且由命题A，可知负整数小于零。

    \textbf{A推论2. 有理数$x>0$，那么$x$是正有理数；有理数$x < 0$，那么$x$是负有理数}。

    证明：

    由于$x>0$，所以$x-0$是正有理数，不妨设该正有理数是k，即：
    \begin{align*}
      x-0 & = k \\
      x   & = k \\
    \end{align*}

    \textbf{B. 两个正有理数相加，是正有理数}

    证明：不妨设$x,y$是任意正有理数，所以存在$a,b,c,d$正整数，使得$x=a/b,y=c/d$。
    \begin{align*}
      x + y & = a/b + c/d      \\
            & = (ad + bc) / bd \\
    \end{align*}
    由于分子是正整数（命题2.2.8），分母是正整数（命题2.3.3），所以$x+y$是正有理数。


  \end{zremark}
\end{zgraytheorem}

\section*{4.3.1}

\textbf{（a）（绝对值的非退化性）我们有$|x| \geq 0$。另外，$|x|=0$当且仅当$x$为零。}

证明：

$x$是有理数，由引理4.2.7（有理数的三歧性）可知，$x$有三种情况：

（1）$x$是正有理数，此时，$|x|=x$，而正有理数$|x|-0=x-0=x$，由定义4.2.8（有理数的排序）可知$|x|>0$；

（2）$x$是负有理数，此时，$|x|=-x$，$|x|-0=-x-0=-x$，而$-x$是正有理数，由定义4.2.8（有理数的排序）可知$|x|>0$；

（3）$x$等于0，此时$|x|=0$，由定义4.2.8（有理数的排序）可知$|x| \geq 0$；

综上，$|x| \geq 0$。另外，$|x|=0$当且仅当$x$为零。

\textbf{（b）（绝对值的三角不等式）我们有$|x+y| \leq |x| + |y|$。}

证明：

可以通过有理数的三歧性证明，这里情况较多，只证明$x$是正有理数，$y$是负有理数的情况【偷个懒，哈哈哈】。

设$x$是正有理数，$y$是负有理数，不妨设$x=a/b,y=(-c)/d$，其中$a,b,c,d$都是正整数。
\begin{align*}
  |x| + |y| & = a/b + c/d  \\
            & = (ad+bc)/bd \\
\end{align*}

\begin{align*}
  x + y & = a/b + (-c)/d \\
        & = (ad-bc)/bd
\end{align*}
若$x + y$是负有理数，则:
\begin{align*}
  |x+y| & =-(x+y)        \\
        & =[-(ad-bc)]/bd \\
        & =(bc-ad)/bd
\end{align*}

\begin{align*}
  |x|+|y| - (|x+y|) & = (ad+bc)/bd - (bc-ad)/bd    \\
                    & = (ad+bc)/bd + (ad-bc)/bd    \\
                    & = [(ad+bc)bd+(ad-bc)bd]/bdbd \\
                    & = (adbc+adbc) / bdbd         \\
\end{align*}

由于分子是正整数（命题2.2.8），分母是正整数（命题2.3.3），可知$(adbc+adbc) / bdbd$是正的，
所以$ |x| + |y| > |x+y|$。

\textbf{（c）不等式$-y \leq x \leq y$成立，当且仅当$y \geq |x|$。特别地，$-|x| \leq x \leq |x|$。}

证明：

充分性：假设前提$-y \leq x \leq y$成立，该前提隐含$y$不是负有理数（见说明）。由有理数的三歧性，$x$的取值有3种情况：
（1）$x$等于0，此时$|x|=0$，而$y$是正有理数，所以$y \geq 0$。

（2）$x$等于正有理数，此时$|x|=x$，由前提可知$y \geq x$。

（3）$x$等于负有理数，此时$|x|=-x$，不妨设$a,b,c,d$是正有理数，$x=(-a)/b,y=c/d$，
由于$-y \leq x$，所有$-y-x$是负有理数，即：
\begin{align*}
  -y - x & = (-c)/d - (-a)/b \\
         & = (-c)b + a/b     \\
         & = a/b - c/d       \\
         & = (ad - bc) / bd  \\
\end{align*}
由上且$-y-x$是负有理数，可知$(ad-bc)=-(bc-ad)$是负整数，所以$bc-ad$是正整数。

\begin{align*}
  y - (-x) & = c/d - \{-[(-a)/b]\} \\
           & = c/d - a/b           \\
           & = (bc - ad) / bd      \\
\end{align*}
由$bc-ad$是正整数和$bd$是正整数，可知$y-(-x)$是正有理数，所以$y \geq -x$。

综合（1）（2）（3）可知$y \geq |x|$。

必要性：假设$y \geq |x|$，由（a）可知$|x| \geq 0$，又序是可传递的（命题4.2.9），所以$y \geq 0$。由有理数的三歧性，
$x$的取值有3种情况：
（1）$x$等于0，此时$|x|=0$，由前提$y \geq |x|$可知$y \geq 0$，由此可知$y$是零或正有理数，所以$-y$是零或负有理数，
进而$-y \leq 0$。

（2）$x$是正有理数，此时$|x|=x$，由前提$y \geq |x|$可知$y \geq x$，此时$y$是正有理数，$x-(-y)=x+y$，两个正有理数相加是正有理数，所以$-y \leq x$。

（3）$x$是负有理数，此时$|x|=-x$，不妨设$x=(-a)/b,y=c/d$，其中$a,b,c,d$是正整数。
由前提$y \geq |x|$，可知$y \geq -x$，所以：
\begin{align*}
  y - (-x) & = c/d - \{-[(-a)/b]\} \\
           & = c/d - a/b           \\
           & = (bc - ad)/bd        \\
\end{align*}
由于$y \geq -x$，所以$(bc - ad)/bd$是正的。

\begin{align*}
  y - x & = c/d - (-a)/b   \\
        & = c/d + a/b      \\
        & = (ad + bc) / bd \\
\end{align*}
由于$a,b,c,d$都是正整数，由此可知$(ad + bc) / bd$是正的，所以$y > x$。

\begin{align*}
  x - (-y) & = x + y        \\
           & = (-a)/b + c/d \\
           & = (bc - ad)/bd \\
\end{align*}
由于$(bc - ad)/bd$是正的，所以$x \geq -y$。

综上，（1）（2）（3）可知$-y \leq x \leq y$。

特别地，把$y$替换为$|x|$，并且$|x| \geq x$，由必要性可知$-|x| \leq x \leq |x|$。

\begin{zgraytheorem}
  \begin{zremark}
    因为$y$是负有理数，存在正整数$a,b$使得$y = (-a)/b$，现在证明$-y > y$。

    证明：

    由
    \begin{align*}
      (-y) - y & = a/b - [(-a)/b] \\
               & = a/b + a/b      \\
               & = (ab + ab)/bb   \\
    \end{align*}

    由于分子是正整数（命题2.2.8），分母是正整数（命题2.3.3），可知$(ab + ab)/bb$是正的，
    所以$-y > y$。
  \end{zremark}
\end{zgraytheorem}

\textbf{（d）（绝对值的可乘性）$|xy|=|x||y|$。特别地，$|-x|=|x|$}

证明：

由有理数的三歧性，证明过程可以按三种情况说明：

（1）$x,y$有一个是0或都是0，此时，$|xy|=0,|x||y|=0$，所以$|xy|=|x||y|$。

（2）$x,y$同号。如果$x,y$都是正有理数，存在正整数$a,b,c,d$使得$x=a/b,y=c/d$，此时：
\begin{align*}
  |xy| & = |(a/b) * (c/d)| \\
       & = |(ac)/(bd)|     \\
       & = ac/bd           \\
\end{align*}
又
\begin{align*}
  |x||y| & = |a/b||c/d|    \\
         & = (a/b) * (c/d) \\
         & = ac/bd         \\
\end{align*}
所以$|xy|=|x||y|$

如果$x,y$都是负有理数，证明类似。

（3）$x,y$是异号。
如果$x$是正有理数，$y$是负有理数，存在正整数$a,b,c,d$使得$x=a/b,y=(-c)/d$，
\begin{align*}
  |xy| & = |(a/b) * [(-c)/d]| \\
       & = |(-ac)/(bd)|       \\
       & = ad/bd              \\
\end{align*}
又
\begin{align*}
  |x||y| & = |a/b||(-c)/d| \\
         & = (a/b) * (c/d) \\
         & = ac/bd         \\
\end{align*}
所以$|xy|=|x||y|$。
如果$x$是负整数，$y$是正有理数，证明过程类似。

综上，（1）（2）（3）可知$|xy|=|x||y|$。

特别地，$-x=(-1)x$，所以
\begin{align*}
  |-x| & =|(-1)||x|                  \\
       & =1|x|                       \\
       & =|x|       & \text{命题4.2.4} \\
\end{align*}。

\textbf{（e）（距离的非退化性）$d(x,y) \geq 0$。另外，$d(x,y)=0$当且仅当$x=y$。 }

证明：

$d(x,y) = |x-y|$，由于$x-y$结果是有理数，由（a）可知$|x-y| \geq 0$，并且$|x-y|=0$当且仅当$x-y$等于零当且仅当$x=y$

\textbf{（f）（距离的对称性）d(x,y) = d(y,x)。}

证明：

不妨设$z = x - y$，由于$d(x,y)=|z|,d(y,x)=|-z|$，由（d）可知$|-z|=|z|$，所以$d(x,y)=d(y,x)$

\textbf{（g）（距离的三角不等式）$d(x,z) \leq d(x,y) + d(y,z)$。}

证明：

$d(x,z)=|x-z|,d(x,y)=|x-y|,d(y,z)=|y-z|$，由于$x-z = (x-y)+(y-z)$，
由命题（b）可知$|x-z| \leq |x-y| + |y-z|$，所以$d(x,z) \leq d(x,y) + d(y,z)$。

\section*{4.3.2}

\textbf{（a）如果$x=y$，那么对任意的$\varepsilon > 0$，$x$都是$\varepsilon$- 接近于$y$的。
  反过来，如果对于任意的$\varepsilon > 0$，$x$都是$\varepsilon$- 接近于$y$的，那么$x=y$。}

证明：


\end{document}
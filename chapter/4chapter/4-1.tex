\documentclass{article}
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}

\newmdtheoremenv[
  backgroundcolor=gray!10,
  linewidth=0pt,
  innerleftmargin=10pt,
  innerrightmargin=10pt,
  innertopmargin=10pt,
  innerbottommargin=10pt
]{zgraytheorem}{Theorem}

% 定义说明环境样式
\newtheoremstyle{mystyle}% 说明环境样式的名称
  {1em}% 上方间距
  {1em}% 下方间距
  {\normalfont}% 说明内容的字体样式
  {}% 缩进量
  {\bfseries}% 说明标记的字体样式
  {.}% 说明标记和说明内容之间的标点
  {1em}% 说明标记后的水平空间
  {}% 说明标记后的垂直空间
% 使用新定义的样式创建说明环境
\theoremstyle{mystyle}
\newtheorem*{zremark}{说明}

% 定义证明环境样式
\newtheoremstyle{zproofstyle}
  {0.5em}
  {0.5em}
  {\itshape}
  {}
  {\bfseries}
  {.}
  {\newline}
  {}
\theoremstyle{zproofstyle}
\newtheorem*{zproof}{证明}

\begin{document}
\title{4.1 习题}
\maketitle

文中的减号占位符，不好表示，习题中的所有减号占位符都用减号代替，看官注意分辨。

\section*{4.1.1}
\begin{zproof}
  \textcircled{1} 自反性

  设$a-b$是任意整数，现证明$a-b=a-b$。由于$a+b=a+b$，所以$a-b=a-b$

  \textcircled{2} 对称性

  设$a-b=c-d$，现证明$c-d=a-b$。
  由于$a-b=c-d$，所以$a+d=c+b$，由自然数相等的对称性可知$c+b=a+d$，所以$c-d=a-b$。
\end{zproof}

\section*{4.1.2}
\begin{zproof}
  $-(a-b)=b-a,-(a^\prime - b^\prime)=b^\prime - a^\prime$，
  又$(a-b)=(a^\prime - b^\prime)$则$a+b^\prime = a^\prime + b$，
  由于加法是可以交换的（命题2.2.4）所以$b^\prime + a = b + a^\prime$，
  由此可得$-(a^\prime - b^\prime)=-(a-b)$，又由整数相等的对称性可得$-(a-b)=-(a^\prime - b^\prime)$。
\end{zproof}

\section*{4.1.3}
\begin{zproof}
  因为a是整数，不妨设$a = x-y$，其中$x, y$是自然数，则
  \begin{align*}
     & (-1) \times a                                           \\
     & =(0-1) \times (x-y)                                     \\
     & = (0 \times x + 1 \times y) - (0 \times y + 1 \times x) \\
     & = (0 + y) - (0 + x)                                     \\
     & = y - x                                                 \\
     & = -a
  \end{align*}
\end{zproof}

\section*{4.1.4}
记$x = a - b, y = c - d, z = e - f$其中a、b、c、d、e、f是自然数

\textcircled{1} $x + y = y + x$

\begin{zproof}
  \begin{align*}
    x + y
    = (a-b)+(c-d)
    = (a+c) - (b+d)
    y + x
    =(c-d)+(a-b)
    =(c+a) - (d+b)
  \end{align*}
  由于加法是可交换（命题2.2.4）可知$a+c=c+a,b+d=d+b$，又由自然数相等的替换公理
  可得$(a+c) + (d+b) = (c+a) + (b+d)$，由此可知$x + y = y + x$
\end{zproof}

\textcircled{2} $(x+y)+z=x+(y+z)$

\begin{zproof}
  \begin{align*}
     & (x+y)+z               \\
     & = ((a-b)+(c-d))+(e-f) \\
     & = ((a+c)-(b+d))+(e-f) \\
     & = (a+c+e) - (b+d+f)   \\
     & x+(y+z)               \\
     & = (a-b)+((c-d)+(e-f)) \\
     & = (a-b)+((c+e)-(d+f)) \\
     & = (a+c+e) - (b+d+f)   \\
  \end{align*}
  由整数相等的定义可知$(x+y)+z=x+(y+z)$

\end{zproof}

\textcircled{3} $x+0=0+x=x$

\begin{zproof}
  可以把$0$看做整数$0-0$，由\textcircled{1}可知$x+0=0+x$，
  \begin{align*}
     & 0+x           \\
     & = (0-0)+(a-b) \\
     & = (0+a)-(0+b) \\
     & = a-b         \\
     & = x
  \end{align*}
\end{zproof}

\textcircled{4} $x+(-x)=(-x)+x=0$

\begin{zproof}
  由\textcircled{1}可知$x+(-x)=(-x)+x$，可以把$0$看做整数$0-0$，
  现在证明整数$x+(-x)=0-0$
  \begin{align*}
              & x + (-x)        \\
              & = (a-b) + (b-a) \\
              & = (a+b) - (b+a) \\
    (a+b) + 0 & = (b+a) + 0     \\
  \end{align*}
  由整数相等的定义可知$x+(-x)=(-x)+x=0$
\end{zproof}

\textcircled{5} $xy=yx$

\begin{zproof}
  \begin{align*}
     & xy                  \\
     & = (a-b)(c-d)        \\
     & = (ac+bd) - (ad+bc) \\
     & yx                  \\
     & = (c-d)(a-b)        \\
     & = (ca+db) - (cb+da) \\
  \end{align*}
  由于加法是可以交换的，乘法也是可以交换的，所以
  \begin{align*}
     & = (ca+db) - (cb+da) \\
     & = (ac+bd) - (ad+bc) \\
  \end{align*}
  于是$xy = yx$
\end{zproof}

\textcircled{7} $x1=1x=x$

\begin{zproof}
  由\textcircled{5} 可知$x1=1x$，又
  \begin{align*}
     & x1                                                      \\
     & = (a-b) \times (1-0)                                    \\
     & = (a \times 1 + b \times 0) - (a \times 0 + b \times 1) \\
     & = (a + 0) - (0 + b)                                     \\
     & = a - b                                                 \\
     & = x                                                     \\
  \end{align*}
\end{zproof}

\textcircled{8} $x(y + z) = xy + xz$

\begin{zproof}
  \begin{align*}
     & x(y + z)                                  \\
     & = (a-b)[(c-d)+(e-f)]                      \\
     & = (a-b)[(c+e)-(d+f)]                      \\
     & = [a(c+e)+b(d+f)] - [a(d+f)+b(c+e)]       \\
     & = (ac+ae+bd+bf) - (ad+af+bc+be)           \\
     & xy + xz                                   \\
     & = (a-b)(c-d) + (a-b)(e-f)                 \\
     & = [(ac + bd)-(ad+bc)] + [(ae+bf)-(af+be)] \\
     & = [(ac + bd)+(ae+bf)] - [(ad+bc)+(af+be)] \\
     & = (ac+ae+bd+bf) - (ad+bc+af+be)           \\
  \end{align*}
  于是$x(y + z) = xy + xz$
\end{zproof}

\textcircled{9} $(y+z)x = yx+zx$

\begin{zproof}
  由\textcircled{5}可知$(y+z)x=x(y+z)$，
  又由\textcircled{8}可知$x(y+z)=xy+xz$，
  再次应用\textcircled{5}可得$xy+xz=yx+zx$，
  于是等式成立
\end{zproof}

\section*{4.1.5}

\begin{zproof}
  由引理4.1.5（整数的三歧性）分多种情况讨论。

  （1）如果$a,b$都是正自然数，
  则由2.3.3可知$ab$是正自然数，则$ab \neq = 0$与题设矛盾；

  （2）如果$a,b$都是正自然数的负数，假设分别为$-m,-n$，m、n都是正自然数。
  \begin{align*}
     & ab                                              \\
     & = (-m) \times (-n)                              \\
     & = (0-m) \times (0-n)                            \\
     & = (0 \times 0 + mn) - (0 \times 0 + m \times 0) \\
     & = mn                                            \\
  \end{align*}
  由于m,n都是正自然数，所以$ab=mn \neq 0$，与题设矛盾；

  （3）如果$a=b=0$（这里的0也可以看做自然数），所以$ab=0$，满足题设。

  （4）如果$a=0,b=x-y$，x、y为任意自然数；
  \begin{align*}
     & ab                            \\
     & = (0-0) \times (x-y)          \\
     & = (0 \times x) - (0 \times y) \\
     & = 0 - 0                       \\
     & = 0                           \\
  \end{align*}
  所以$ab=0$，满足题设；

  （5）如果$a=x-y,b=0$，x、y为任意自然数；
  \begin{align*}
     & ab                            \\
     & = (x-y) \times (0-0)          \\
     & = (x \times 0) - (y \times 0) \\
     & = 0 - 0                       \\
  \end{align*}
  于是$ab=0$，满足题设；

  如果$a=0,b=x-y$，，x、y为任意自然数；
  \begin{align*}
     & ab                \\
     & = 0 \times (x-y)  \\
     & = (x-y) \ times 0 \\
     & = 0 - 0           \\
  \end{align*}
  于是$ab=0$，满足题设；

  综上，命题得证。
\end{zproof}
\end{document}
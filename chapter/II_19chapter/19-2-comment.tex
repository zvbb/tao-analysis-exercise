\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}


% 定义新的带灰色背景的说明环境 zremark
\newmdtheoremenv[
  backgroundcolor=gray!10,
  % 边框与背景一致，边框线会消失
  linecolor=gray!10
]{zremark}{说明}

% 通用矩阵命令: \flexmatrix{矩阵名}{元素符号}{行数}{列数}
\newcommand{\flexmatrix}[4]{
  \[
  #1 = \begin{pmatrix}
    #2_{11}     & #2_{12}     & \cdots & #2_{1#4}   \\
    #2_{21}     & #2_{22}     & \cdots & #2_{2#4}   \\
    \vdots      & \vdots      & \ddots & \vdots     \\
    #2_{#31}    & #2_{#32}    & \cdots & #2_{#3#4}
  \end{pmatrix}
  \]
}

% 简化版命令（默认矩阵名为A，元素符号为a）: \quickmatrix{行数}{列数}
\newcommand{\quickmatrix}[2]{\flexmatrix{A}{a}{#1}{#2}}


\begin{document}
\title{19.2 注释}
\author{张志聪}
\maketitle

\begin{zremark}
  定理19.2.9的证明中：
  \textbf{“
    $\sup\limits_{n} m(F_j \cap E_n) = m(F_j)$可以利用习题18.2.3(a)得到。
    ”}
  的具体证明过程。
\end{zremark}

\textbf{证明：}

对每一个$n$都有
\begin{align*}
  F_j \cap E_1 \subseteq F_j
\end{align*}
而且我们有
\begin{align*}
  E_1 \subset E_2  \subset \cdots
\end{align*}
于是可得
\begin{align*}
  F_j \cap E_1 \subseteq F_j \cap E_2 \subseteq \cdots
\end{align*}
所以，$(m(F_j \cap E_n))_{n = 1}^\infty$是单调的递增序列，
于是我们有
\begin{align*}
  \sup\limits_{n} m(F_j \cap E_n) = \lim\limits_{n \to \infty} m(F_j \cap E_n)
\end{align*}
由习题18.2.3(a)可知
\begin{align*}
  \lim\limits_{n \to \infty} m(F_j \cap E_n) = m(\bigcup\limits_{n = 1}^\infty F_j \cap E_n)
\end{align*}
接下来证明：
\begin{align*}
  m(\bigcup\limits_{n = 1}^\infty F_j \cap E_n) = m(F_j)
\end{align*}
为了完成证明，我们只需证明
\begin{align*}
  \bigcup\limits_{n = 1}^\infty F_j \cap E_n = F_j
\end{align*}
对任意$n$都有
\begin{align*}
  F_j \cap E_n \subseteq F_j \\
  \implies                   \\
  \bigcup\limits_{n = 1}^\infty F_j \cap E_n \subseteq F_j
\end{align*}

对任意$x \in F_j$，因为$F_j \subseteq \Omega$，
又因为$\bigcup\limits_{n = 1}^\infty E_n = \Omega$，
所以存在$n$使得$x \in E_n$，于是$x \in F_j \cap E_n \subseteq \bigcup\limits_{n = 1}^\infty F_j \cap E_n$，所以
\begin{align*}
  F_j \subseteq \bigcup\limits_{n = 1}^\infty F_j \cap E_n
\end{align*}
综上可得
\begin{align*}
  F_j = \bigcup\limits_{n = 1}^\infty F_j \cap E_n
\end{align*}

\begin{zremark}
  引理19.2.10中：
  \textbf{“
    简单函数序列$0 \leq s_1 \leq s_2 \leq \cdots \leq f$使得$\sup\limits_{n} s_n = f$。
    ”}
  的证明。
\end{zremark}

\textbf{证明：}

文中的说明存在歧义，应该是：
简单函数序列$0 \leq s_1 \leq s_2 \leq \cdots $逐点收敛于$f$，使得$\sup\limits_{n} s_n = f$。

先解释下$\sup\limits_{n} s_n$的定义：
\begin{align*}
  (\sup\limits_{n} s_n)(x) := \sup\limits_{n \in \mathbb{N}} s_n(x) \,\, \text{对每个$x \in \Omega$}
\end{align*}
即
\begin{itemize}
  \item $\sup\limits_{n} s_n$是一个函数；
  \item 它在每个点$x$的取值是实数序列$(s_n(x))_{n = 1}^\infty$的上确界（注意不是极限点。
        因为实数序列只要有界，就有上确界，但序列本身不一定收敛）。
\end{itemize}

对任意$x \in \Omega$，
题设可知$(s_n(x))_{n = 1}^\infty$的单调递增的，
所以$(s_n(x))_{n = 1}^\infty$收敛于上确界$(\sup\limits_{n} s_n)(x)$。

如果$(\sup\limits_{n} s_n)(x) = +\infty$，由
$(s_n)_{n = 1}^\infty$逐点收敛于$f$可知，$f(x) = +\infty$，
我们有
\begin{align*}
  (\sup\limits_{n} s_n)(x) = f(x) = +\infty
\end{align*}

如果$(\sup\limits_{n} s_n)(x)$是实数，
那么对任意$\epsilon > 0$，存在$N_0$，使得只要$n \geq N_0$，就有
\begin{align}
  |(\sup\limits_{n} s_n)(x) - s_n(x)| < \frac{1}{2}\epsilon
\end{align}

$(s_n)_{n = 1}^\infty$逐点收敛于$f$，那么存在$N_1$，使得只要$n \geq N_1$，就有
\begin{align}
  |f(x) - s_n(x)| < \frac{1}{2}\epsilon
\end{align}

综上，$n \geq \max(N_0, N_1)$，式子(1)(2)同时成立。

由三角不等式可知
\begin{align*}
  |(\sup\limits_{n} s_n)(x) - f(x)| < \epsilon
\end{align*}
由$\epsilon$的任意性可知，$(\sup\limits_{n} s_n)(x) = f(x)$，
由$x$的任意性可知，$\sup\limits_{n} s_n = f$。

\begin{zremark}
  法都引理如何推导出：极限函数的积分不可能大于初始积分（的极限）。
\end{zremark}

\textbf{证明：}

我们需要证明以下不等式成立：
\begin{align*}
  \int_{\Omega} \lim\limits_{n \to \infty} f_n \leq \lim\limits_{n \to \infty} \int_{\Omega} f_n
\end{align*}

我们先证明：$\lim\limits_{n \to \infty} f_n = \liminf\limits_{n \to \infty} f_n$。
（书中是没有的，不要实数序列与函数序列混淆）

设
\begin{align*}
  \lim\limits_{n \to \infty} f_n = f
\end{align*}
于是，对任意$x_0 \in \Omega$，我们有
\begin{align*}
  \lim\limits_{n \to \infty} f_n(x_0) = f(x_0)
\end{align*}

我们有
\begin{align*}
  \liminf\limits_{n \to \infty} f_n = \sup\limits_{n} \left(\inf\limits_{m \geq n} f_m\right)
\end{align*}

于是
\begin{align*}
  (\liminf\limits_{n \to \infty} f_n)(x_0)
   & = \sup\limits_{n} \left(\inf\limits_{m \geq n} f_m (x_0) \right)
\end{align*}
利用实数序列的极限值等于下极限，我们有
\begin{align*}
  \sup\limits_{n} \left(\inf\limits_{m \geq n} f_m (x_0) \right) = f(x_0)
\end{align*}

由$x_0$的任意性可得$\lim\limits_{n \to \infty} f_n = \liminf\limits_{n \to \infty} f_n$。

于是利用法都定理可得
\begin{align*}
  \int_{\Omega} \lim\limits_{n \to \infty} f_n
  = \int_{\Omega} \liminf\limits_{n \to \infty} f_n
  \leq \liminf\limits_{n \to \infty} \int_{\Omega} f_n = \lim\limits_{n \to \infty} \int_{\Omega} f_n
\end{align*}


\end{document}